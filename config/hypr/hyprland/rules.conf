##################
## WINDOW RULES ##
##################
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more


# ==== Window states ====
windowrule = border_color $green, match:fullscreen 1
windowrule = border_color $teal $sapphire 45deg, match:fullscreen_state_internal *, match:fullscreen_state_client 2

windowrule = rounding 15, rounding_power 4, match:float 1
windowrule = border_color $rosewater, match:pin 1

windowrule = border_color $subtext1, match:xwayland 1


# ==== Custom class includes float? ====
windowrule = float on, match:class .*-float.*


# ==== Binding custom titles to workspaces ====
windowrule = workspace 1 silent, match:class .*browser, match:title 1\..*
windowrule = workspace 2 silent, match:class .*browser, match:title 2\..*
windowrule = workspace 3 silent, match:class .*browser, match:title 3\..*
windowrule = workspace 4 silent, match:class .*browser, match:title 4\..*
windowrule = workspace 5 silent, match:class .*browser, match:title 5\..*
windowrule = workspace 6 silent, match:class .*browser, match:title 6\..*
windowrule = workspace 7 silent, match:class .*browser, match:title 7\..*
windowrule = workspace 8 silent, match:class .*browser, match:title 8\..*
windowrule = workspace 9 silent, match:class .*browser, match:title 9\..*
windowrule = workspace 99 silent, match:class .*browser, match:title 0\..*

windowrule = workspace 11 silent, match:class .*browser, match:title 1s\..*
windowrule = workspace 21 silent, match:class .*browser, match:title 2s\..*
windowrule = workspace 31 silent, match:class .*browser, match:title 3s\..*
windowrule = workspace 41 silent, match:class .*browser, match:title 4s\..*
windowrule = workspace 51 silent, match:class .*browser, match:title 5s\..*
windowrule = workspace 61 silent, match:class .*browser, match:title 6s\..*
windowrule = workspace 71 silent, match:class .*browser, match:title 7s\..*
windowrule = workspace 81 silent, match:class .*browser, match:title 8s\..*
windowrule = workspace 91 silent, match:class .*browser, match:title 9s\..*
windowrule = workspace 991 silent, match:class .*browser, match:title 0s\..*


# ==== Floating dialogs ====

# Float Brave login popups (hopefully)
windowrule = float on, match:class brave-browser, match:title (Untitled - Brave)
windowrule = float on, match:class brave-clngdbkpkpeebahjckkjfobafhncgmne.*
windowrule = float on, match:class brave-nngceckbapebfimnlniiiahkandclblb.*
# Float Bitwarden popups
windowrule = float on, match:class brave-nngceckbapebfimnlniiiahkandclblb

# Hyprland Share Picker
windowrule = float on, group barred, match:class hyprland-share-picker

# Okular
windowrule = float on, match:class org.kde.olukar, match:title (Edit .* tool — Okular)
windowrule = float on, match:title New Text Note — Okular

# KDE Wallet
windowrule = float on, match:class org.kde.kwalletd6

# GIMP
windowrule = float on, match:class script-fu, match:title New Guide

# CURA
# Cura opening sequence
windowrule = float on, match:title (UltiMaker-Cura)
# Save/Load file popups
windowrule = float on, match:class .*Cura, match:title (Save|Open)( Cura)? [Pp]roject.*

# Save/Open File popups
windowrule = float on, match:class xdg.*-portal.*, match:title (All Files|[Ss]ave|[Oo]pen).*
windowrule = float on, match:title ^Export \w+ as \w+$ # GIMP export dialog
windowrule = float on, match:title ^Open a.* file$
windowrule = float on, match:title ^$


# Menus
windowrule {
  name = term-mgmt
  float = on
  size = (monitor_w*0.3) (monitor_h*0.5)
  move = ((monitor_w*1)-window_w-5) (35)
  match:class = term-mgmt.*
}

# Clipse
windowrule {
  name = clipse
  float = on
  size = 622 652
  match:class = clipse
}


# ==== Apps ====

# Brave PWAs
windowrule = fullscreen_state 0 2, match:class brave-.*, match:title WhatsApp Web
windowrule = fullscreen_state 0 2, match:class brave-.*, match:title draw.io
windowrule = fullscreen_state 0 2, match:class brave-.*, match:title Google Tasks.*

# Brave Dev Tools
windowrule = group barred, match:class brave-browser, match:title DevTools

# Make Meet fake-fullscreen when popped out
windowrule = fullscreen_state 0 2, match:class brave-browser, match:title Meet - *

# Hypremoji
windowrule = float on, match:title ^(HyprEmoji)$

# Virt Manager
# Open Virt Manager as grouped
windowrule = group set, match:class virt-manager, match:title Virtual Machine Manager
# Open Windows 11 VM in pseudo. This helps with resizing
windowrule = pseudo on, max_size 1280 1280, match:class virt-manager, match:title Windows 11.*

# Anki
windowrule = pseudo on, match:class anki

# VS CODE
windowrule = opacity 0.9, match:class code-url-handler

# Minecraft
windowrule = render_unfocused on, group barred, match:title Minecraft\* 1\..*

# Autofirma
windowrule = tile on, match:class AutoFirma, match:title AutoFirma v.*

# Steam
windowrule = tile on, match:class steam


# ==== ALL ====
windowrule = suppress_event maximize, match:class .* # You'll probably like this.


#################
## LAYER RULES ##
#################

# Blur behind notifications
layerrule {
  name = notifications
  blur = on
  ignore_alpha = 0
  animation = slide right
  match:namespace = notifications
}


# Blur behind fuzzel
layerrule {
  name = launcher
  blur = on
  ignore_alpha = 0
  match:namespace = launcher
}

#####################
## WORKSPACE RULES ##
#####################
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules
