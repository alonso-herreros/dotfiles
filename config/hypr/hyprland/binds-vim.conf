###################################################################### HYPRLAND KEYBINDINGS: VIM MODE EVERYWHERE
######################################################################
#
# Have you ever been stuck using an app that doesn't support Vim keybindings?
#
# Tired of having to move your hand to the mouse or arrow keys to do any kind of
# text editing?
#
# Incapable of doing work because your muscle memory is so strong that you
# forgot how to use a mouse? (or ditched it all together?)
#
# I present to you: Hyprland Vim Mode! (sort of)
#
# This set of Hyprland keybindings aims to emulate a small set of vim keybindings
# to make your life a little easier by using submaps as modes and translating
# the vim keybindings to more common keybindings (using the arrow keys, etc).
#
# This works best with a status capable of reporting Hyprland submaps, such as
# Waybar.
#
# Be aware that your other keybindings won't work while in Vim mode due to the
# lack of inheritance.

# Useful docs:
# See https://wiki.hyprland.org/Configuring/Binds/
# See the xkbcommon-keysyms.h header for all the keysyms:
# https://github.com/xkbcommon/libxkbcommon/blob/master/include/xkbcommon/xkbcommon-keysyms.h

# Default submap to return to when exiting Vim mode.
$SUBMAP_DEFAULT = reset

# Use this to get in and out of Vim mode.
$VIM_TOGGLE_TRIGGER = SUPER ALT, v
$VIM_ENABLE_BIND    = $VIM_TOGGLE_TRIGGER, submap, NORMAL
$VIM_DISABLE_BIND   = $VIM_TOGGLE_TRIGGER, submap, $SUBMAP_DEFAULT

bind   = $VIM_ENABLE_BIND


# ==== Normal mode ====
submap = NORMAL
bind   = $VIM_DISABLE_BIND
bind   = CTRL, c, submap, $SUBMAP_DEFAULT

bind   =, h, sendshortcut, , Left,
bind   =, j, sendshortcut, , Down,
bind   =, k, sendshortcut, , Up,
bind   =, l, sendshortcut, , Right,
bind   =, e, sendshortcut, CTRL, Right,
bind   =, b, sendshortcut, CTRL, Left,
bind   =, w, sendshortcut, CTRL, Right,
 bind  =, w, sendshortcut, , Right,

bind   =,       0, sendshortcut, , Home,
bind   = SHIFT, 4, sendshortcut, , End,  # $

bind   =,       g, sendshortcut, CTRL, Home, # gg not supported, mapped to g
bind   = SHIFT, G, sendshortcut, CTRL, End,

bind   =,       x, sendshortcut, , Delete,
bind   =,       r, sendshortcut, , Delete,
 bind  =,       r, submap,       REPLACE

bind   = SHIFT, D, sendshortcut, SHIFT, End,
 bind  = SHIFT, D, sendshortcut, , Delete,

bind   = SHIFT, C, sendshortcut, SHIFT, End,
 bind  = SHIFT, C, sendshortcut, , Delete,
 bind  = SHIFT, C, submap,     , INSERT

bind   =,       i, submap,       INSERT
bind   = SHIFT, I, sendshortcut, , Home,
 bind  = SHIFT, I, submap,       INSERT
bind   =,       a, sendshortcut, , Right,
 bind  =,       a, submap,       INSERT
bind   = SHIFT, A, sendshortcut, , End,
 bind  = SHIFT, A, submap,       INSERT

bind   =,       o, sendshortcut, , End,
 bind  =,       o, sendshortcut, , Return,
 bind  =,       o, submap,       INSERT
bind   = SHIFT, O, sendshortcut, , Home,
 bind  = SHIFT, O, sendshortcut, , Left,
 bind  = SHIFT, O, sendshortcut, , Return,
 bind  = SHIFT, O, submap,       INSERT

bind   =,       p, sendshortcut, , Right,
 bind  =,       p, sendshortcut, CTRL, v,
bind   = SHIFT, P, sendshortcut, CTRL, v,

bind   =,       v, sendshortcut, SHIFT, Right,
 bind  =,       v, submap,       VISUAL
bind   = SHIFT, V, sendshortcut, , Home,
 bind  = SHIFT, V, sendshortcut, SHIFT, Down,
 bind  = SHIFT, V, submap,       VISUAL

bind   = SHIFT, period, submap,  CMD :


# ==== Visual mode ====
submap = VISUAL
bind   = $VIM_DISABLE_BIND
bind   =, Escape, submap, NORMAL
bind   = CTRL, c, submap, NORMAL

bind   =,       v, sendshortcut, ,      Home,
 bind  =,       v, sendshortcut, SHIFT, Right,
 bind  =,       v, submap,       VISUAL
bind   = SHIFT, V, sendshortcut, ,      Home,
 bind  = SHIFT, V, sendshortcut, SHIFT, Down,
 bind  = SHIFT, V, submap,       VISUAL-LINE

bind   =, h, sendshortcut, SHIFT, Left,
bind   =, j, sendshortcut, SHIFT, Down,
bind   =, k, sendshortcut, SHIFT, Up,
bind   =, l, sendshortcut, SHIFT, Right,
bind   =, e, sendshortcut, SHIFT CTRL, Right,
bind   =, b, sendshortcut, SHIFT CTRL, Left,
bind   =, w, sendshortcut, SHIFT , Left,
bind   =, w, sendshortcut, SHIFT CTRL, Right,
bind   =, w, sendshortcut, SHIFT , Right,

bind   =, y, sendshortcut, CTRL, c,
bind   =, y, sendshortcut, , Escape,
bind   =, y, submap,       NORMAL
bind   =, d, sendshortcut, , Delete,
bind   =, d, submap,       NORMAL
bind   =, c, sendshortcut, , Delete,
bind   =, c, submap,       INSERT


# ==== Insert mode ====
submap = INSERT
bind   = $VIM_DISABLE_BIND
bind   =, Escape, submap, NORMAL
bind   = CTRL, c, submap, NORMAL


# ==== Replace mode ====
submap = REPLACE
bind   = $VIM_DISABLE_BIND
bind   =, Escape, submap, NORMAL
bind   = CTRL, c, submap, NORMAL
bind   =, catchall, submap, NORMAL
bind   =, catchall, pass, active


# ==== Command mode ====
submap = CMD :
bind   = $VIM_DISABLE_BIND
bind   =, Escape, submap, NORMAL
bind   = CTRL, c, submap, NORMAL
bind   =, Return, submap, NORMAL
bind   =, q, submap, CMD :q

submap = CMD :q
bind   = $VIM_DISABLE_BIND
bind   =, Escape, submap, NORMAL
bind   = CTRL, c, submap, NORMAL
bind   = , Return, submap, $SUBMAP_DEFAULT # :q

submap = $SUBMAP_DEFAULT
